<!-- Navbar -->
<nav>
  <div class="header">
    <p class="logo">
      <a routerLink="/home">JJTodo</a>
    </p>
    <div class="text-right min-xl:hidden">
      <button class="pt-1" data-collapse-toggle="menu" (click)="collapse()">
        <fa-icon *ngIf="!collapsed" [icon]="faBars" size="2x"></fa-icon>
        <fa-icon *ngIf="collapsed" [icon]="faMinus" size="2x"></fa-icon>
      </button>
    </div>

    <!-- Default auth buttons -->
    <div class="xl:scale-0 text-right">
      <ng-template #login>
        <button class="auth-buttons" routerLink="/login">Login</button>
        <button class="auth-buttons" routerLink="/signup">Signup</button>
      </ng-template>
      <div *ngIf="auth.user$ | async; else login">
        <button class="auth-buttons" (click)="auth.signOut()" >Log Out</button>
      </div>
    </div>
  </div>
</nav>

<!-- mobile nav -->
<div 
  id="menu" 
  class="mobile-section" 
  [@openClose]
  *ngIf="collapsed" 
>
  <ng-template #login >
    <div class="grid grid-rows-1 gap-y-8 mob-btn" >
      <a class="auth-buttons" routerLink="/login" (click)="collapse()">Login</a>
      <a class="auth-buttons" routerLink="/signup" (click)="collapse()">Signup</a>
    </div>
  </ng-template>
  <div *ngIf="auth.user$ | async; else login" class="mob-btn">
    <a class="auth-buttons" (click)="auth.signOut()">Log Out</a>
  </div>
  
  <hr class="h-px my-8 border-0 bg-gray-400 min-md:my-8 min-xl:my-2" />

</div>

<!-- Main -->
<main [class]="collapsed ? 'bg-green-50 blur-lg pt-4' : '' ">
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<footer *ngIf="!collapsed && currentPage != '/app'">
  <div class="footer">
    <p class="text-gray-500 text-sm mb-4">Â© @jothishjj 2023</p>
    <div class="text-right">
      <a (click)="scroll()" class="back-to-top-btn"
        >Back to top <fa-icon [icon]="faArrowUp"></fa-icon
      ></a>
    </div>
    <div class="space-x-4">
      <a href="https://instagram.com/jothish_jj"
        ><fa-icon [icon]="faInstagram" size="2x"></fa-icon
      ></a>
      <a href="https://twitter.com/jothishjj"
        ><fa-icon [icon]="faTwitter" size="2x"></fa-icon
      ></a>
      <a href="https://github.com/JothishJJ">
      <fa-icon [icon]="faGithub" size="2x"></fa-icon>
      </a>
    </div>
  </div>
</footer>
